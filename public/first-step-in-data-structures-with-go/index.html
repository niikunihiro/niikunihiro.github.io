<!DOCTYPE html>
<html lang="en">
    <head>
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge" >
        <meta http-equiv="content-type" content="text/html; charset=utf-8">

        <!-- SEO -->
        
        <title> Goによるデータ構造 はじめの一歩 | Niiko thought at that time </title>
        

        <!-- Enable responsiveness on mobile devices-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" >

        <!-- js -->
        <script src="https:&#x2F;&#x2F;niikunihiro.github.io/theme_selector.js"></script>
        <script src="https://kit.fontawesome.com/e307e34624.js" crossorigin="anonymous"></script>

        <!--  css -->
        <link id="themeCSS" rel="stylesheet"
                            href="https:&#x2F;&#x2F;niikunihiro.github.io/default.css"
                            />

        <!-- fonts -->
        <!-- preload  -->
        <link rel="preload" href="https://fonts.googleapis.com/css?family=Montserrat:200,300,300i,400,500,500i,600,700,800,900|Raleway" as="style">
        <!-- load -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:200,300,300i,400,500,500i,600,700,800,900|Raleway">
        
    </head>

    <body onload="main();">
      
<input type="checkbox" id="openSidebarMenu" class="openSidebarMenu">
<label class="menu cross menu--1" for="openSidebarMenu">
    <svg viewBox="0 0 75 75" xmlns="https://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="30" />
        <path class="line--1" d="M0 40h62c13 0 6 28-4 18L35 35" />
        <path class="line--2" d="M0 50h70" />
        <path class="line--3" d="M0 60h62c13 0 6-28-4-18L35 65" />
    </svg>
</label>

<div id="sidebarMenu">
    <div class="menu_wrapper">
        <ul class="sidebarMenuInner">
            <li>
                <a href="https:&#x2F;&#x2F;niikunihiro.github.io" >Niiko thought at that time</a>
                <div class="menu_div" ></div>
            </li>
            
            



<li >
    <a href="https:&#x2F;&#x2F;github.com&#x2F;niikunihiro" target="_blank">niikunihiro</a>
    <i class="fab fa-github"></i>
</li>





        </ul>
    </div>
</div>



      
<nav id="overlord" class="overlord" >
  
  
<figure class="mini_logo ">
    <a href="https:&#x2F;&#x2F;niikunihiro.github.io" style="background-image: url(/img/profile.jpg)"></a>
</figure>
<h5>
    <a href="https:&#x2F;&#x2F;niikunihiro.github.io">Niiko thought at that time</a>
</h5>

  



</nav>

<section class="post_container">
  <article>
    
      <h1 class="article_title"><a href="https:&#x2F;&#x2F;niikunihiro.github.io&#x2F;first-step-in-data-structures-with-go&#x2F;" id="article_link">Goによるデータ構造 はじめの一歩</a></h1>
      
<ul class="frontmatter frontmatter_page" id="frontmatter">
    <li>
        <time class="article_time" datetime="2021-01-07">January 07, 2021</time>
    </li>
    <span class="dotDivider"></span>
    <li> 3130 words </li>
    <span class="dotDivider" ></span>
    <li> 16 min </li>
</ul>

      <p>このエントリは放送大学の『データ構造とプログラミング』のプログラム部分を Go で書こうと思って始めました。完走しないかもしれないので徐々に追記するスタイルでやっていきます。</p>
<h2 id="detagou-zao">データ構造</h2>
<h3 id="pei-lie">配列</h3>
<p>なにはともあれ配列の定義方法です</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">var </span><span style="color:#bf616a;">a </span><span>[</span><span style="color:#d08770;">10</span><span>]</span><span style="color:#b48ead;">int
</span><span style="color:#bf616a;">a</span><span>[</span><span style="color:#d08770;">0</span><span>] = </span><span style="color:#d08770;">1
</span><span>...
</span><span style="color:#bf616a;">a</span><span>[</span><span style="color:#d08770;">9</span><span>] = </span><span style="color:#d08770;">9
</span></code></pre>
<p>逐一書くのは面倒なのでループで入れる</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">const </span><span style="color:#bf616a;">arraySize </span><span>= </span><span style="color:#d08770;">10
</span><span style="color:#b48ead;">var </span><span style="color:#bf616a;">a </span><span>[</span><span style="color:#bf616a;">arraySize</span><span>]</span><span style="color:#b48ead;">int
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">i </span><span>&lt; </span><span style="color:#bf616a;">arraySize</span><span>; </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>    </span><span style="color:#bf616a;">a</span><span>[</span><span style="color:#bf616a;">i</span><span>] = </span><span style="color:#bf616a;">i
</span><span>}
</span></code></pre>
<p>定義と一緒にデータも入れる</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#bf616a;">a </span><span>:= [</span><span style="color:#d08770;">10</span><span>]</span><span style="color:#b48ead;">int</span><span>{</span><span style="color:#d08770;">0</span><span>, </span><span style="color:#d08770;">1</span><span>, </span><span style="color:#d08770;">2</span><span>, </span><span style="color:#d08770;">3</span><span>, </span><span style="color:#d08770;">4</span><span>, </span><span style="color:#d08770;">5</span><span>, </span><span style="color:#d08770;">6</span><span>, </span><span style="color:#d08770;">7</span><span>, </span><span style="color:#d08770;">8</span><span>, </span><span style="color:#d08770;">9</span><span>}
</span></code></pre>
<p>要素数の省略も可能</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#bf616a;">a </span><span>:= [...]</span><span style="color:#b48ead;">int</span><span>{</span><span style="color:#d08770;">0</span><span>, </span><span style="color:#d08770;">1</span><span>, </span><span style="color:#d08770;">2</span><span>, </span><span style="color:#d08770;">3</span><span>, </span><span style="color:#d08770;">4</span><span>, </span><span style="color:#d08770;">5</span><span>, </span><span style="color:#d08770;">6</span><span>, </span><span style="color:#d08770;">7</span><span>, </span><span style="color:#d08770;">8</span><span>, </span><span style="color:#d08770;">9</span><span>}
</span></code></pre>
<p>要素数を省略した場合の型は初期値の数が要素数になる。<br />
この場合は <code>[10]int</code> になる。</p>
<p>要素は構造体でもいい</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">type </span><span>Student </span><span style="color:#b48ead;">struct </span><span>{
</span><span>    </span><span style="color:#bf616a;">id      </span><span style="color:#b48ead;">int
</span><span>    </span><span style="color:#bf616a;">grade   </span><span style="color:#b48ead;">string
</span><span>    </span><span style="color:#bf616a;">average </span><span style="color:#b48ead;">float64
</span><span>}
</span><span>
</span><span style="color:#b48ead;">var </span><span style="color:#bf616a;">a </span><span>[</span><span style="color:#d08770;">3</span><span>]</span><span style="color:#b48ead;">Student
</span><span style="color:#bf616a;">a</span><span>[</span><span style="color:#d08770;">0</span><span>] = </span><span style="color:#bf616a;">Student</span><span>{</span><span style="color:#bf616a;">id</span><span>: </span><span style="color:#d08770;">100</span><span>, </span><span style="color:#bf616a;">grade</span><span>: &quot;</span><span style="color:#a3be8c;">A</span><span>&quot;, </span><span style="color:#bf616a;">average</span><span>: </span><span style="color:#d08770;">510.20</span><span>}
</span><span style="color:#bf616a;">a</span><span>[</span><span style="color:#d08770;">1</span><span>] = </span><span style="color:#bf616a;">Student</span><span>{</span><span style="color:#bf616a;">id</span><span>: </span><span style="color:#d08770;">101</span><span>, </span><span style="color:#bf616a;">grade</span><span>: &quot;</span><span style="color:#a3be8c;">C</span><span>&quot;, </span><span style="color:#bf616a;">average</span><span>: </span><span style="color:#d08770;">350.00</span><span>}
</span><span style="color:#bf616a;">a</span><span>[</span><span style="color:#d08770;">2</span><span>] = </span><span style="color:#bf616a;">Student</span><span>{</span><span style="color:#bf616a;">id</span><span>: </span><span style="color:#d08770;">105</span><span>, </span><span style="color:#bf616a;">grade</span><span>: &quot;</span><span style="color:#a3be8c;">B</span><span>&quot;, </span><span style="color:#bf616a;">average</span><span>: </span><span style="color:#d08770;">450.50</span><span>}
</span><span>
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#d08770;">%#v</span><span>&quot;, </span><span style="color:#bf616a;">a</span><span>)
</span></code></pre>
<p>二次元配列を使って九九を出力する</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">var </span><span style="color:#bf616a;">a </span><span>[</span><span style="color:#d08770;">9</span><span>][</span><span style="color:#d08770;">9</span><span>]</span><span style="color:#b48ead;">int
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">i </span><span>&lt; </span><span style="color:#d08770;">9</span><span>; </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>    </span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">j </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">j </span><span>&lt; </span><span style="color:#d08770;">9</span><span>; </span><span style="color:#bf616a;">j</span><span>++ {
</span><span>        </span><span style="color:#bf616a;">a</span><span>[</span><span style="color:#bf616a;">i</span><span>][</span><span style="color:#bf616a;">j</span><span>] = (</span><span style="color:#bf616a;">i </span><span>+ </span><span style="color:#d08770;">1</span><span>) * (</span><span style="color:#bf616a;">j </span><span>+ </span><span style="color:#d08770;">1</span><span>)
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">i </span><span>&lt; </span><span style="color:#d08770;">9</span><span>; </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>    </span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">j </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">j </span><span>&lt; </span><span style="color:#d08770;">9</span><span>; </span><span style="color:#bf616a;">j</span><span>++ {
</span><span>        </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#d08770;">%02d </span><span>&quot;, </span><span style="color:#bf616a;">a</span><span>[</span><span style="color:#bf616a;">i</span><span>][</span><span style="color:#bf616a;">j</span><span>])
</span><span>    }
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#96b5b4;">\n</span><span>&quot;)
</span><span>}
</span></code></pre>
<p>配列は最初にサイズを指定するので、ゆるっとコード書くときは次に出てくるスライスが可変長配列のように使えるので取り回しがいいです。</p>
<h3 id="suraisu">スライス</h3>
<p>定義とデータ挿入。配列のリテラルと同じような書き方が可能</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">var </span><span style="color:#bf616a;">s </span><span>[]</span><span style="color:#b48ead;">int
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">i </span><span>&lt; </span><span style="color:#d08770;">10</span><span>; </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>    </span><span style="color:#bf616a;">s </span><span>= </span><span style="color:#96b5b4;">append</span><span>(</span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#bf616a;">i</span><span>)
</span><span>}
</span></code></pre>
<p>Go のスライスは参照型なので <code>make()</code> でも作れる</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#bf616a;">s </span><span>:= </span><span style="color:#96b5b4;">make</span><span>([]</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#d08770;">0</span><span>)
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">i </span><span>&lt; </span><span style="color:#d08770;">10</span><span>; </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>    </span><span style="color:#bf616a;">s </span><span>= </span><span style="color:#96b5b4;">append</span><span>(</span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#bf616a;">i</span><span>)
</span><span>}
</span></code></pre>
<p>定義してからデータを挿入する場合は <code>append()</code> を使うところが配列と異なります。<br />
添字を使ってアクセスするところは配列と同じですが、スライスの実装は配列とは異なるので後述したいと思ってます。</p>
<hr />
<h2 id="detanotan-suo">データの探索</h2>
<p>配列内にデータがあるかを確認するときは探索を行います</p>
<h3 id="xian-xing-tan-suo">線形探索</h3>
<p>配列の先頭からデータを探索していく方法。先頭から順に探索を行うので、最悪のケースの計算量はデータの個数に比例する。ちなみに計算量の指標には最悪実行時間、最悪コストというパンチの強い表現があるけど、気分的なものではないので気にしないでください。</p>
<h4 id="xian-xing-tan-suo-woxing-tutesutetupushu-tojie-guo-wochu-li-suruli">線形探索を行ってステップ数と結果を出力する例</h4>
<p>線形探索の関数</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">func </span><span style="color:#8fa1b3;">linerSearch</span><span>(</span><span style="color:#bf616a;">arr </span><span>[]</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#bf616a;">key </span><span style="color:#b48ead;">int</span><span>) </span><span style="color:#b48ead;">int </span><span>{
</span><span>    </span><span style="color:#bf616a;">max </span><span>:= </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">arr</span><span>)
</span><span>    </span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">i </span><span>&lt; </span><span style="color:#bf616a;">max</span><span>; </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>        </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">step </span><span style="color:#d08770;">%d</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">i</span><span>+</span><span style="color:#d08770;">1</span><span>)
</span><span>        </span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">arr</span><span>[</span><span style="color:#bf616a;">i</span><span>] == </span><span style="color:#bf616a;">key </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">i
</span><span>        }
</span><span>    }
</span><span>    </span><span style="color:#b48ead;">return </span><span>-</span><span style="color:#d08770;">1
</span><span>}
</span></code></pre>
<p>呼び出し側</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#65737e;">// データは順序配列（順序スライス？）
</span><span style="color:#bf616a;">s </span><span>:= []</span><span style="color:#b48ead;">int</span><span>{
</span><span>    </span><span style="color:#d08770;">50</span><span>, </span><span style="color:#d08770;">80</span><span>, </span><span style="color:#d08770;">150</span><span>, </span><span style="color:#d08770;">210</span><span>, </span><span style="color:#d08770;">250</span><span>, </span><span style="color:#d08770;">280</span><span>, </span><span style="color:#d08770;">330</span><span>, </span><span style="color:#d08770;">470</span><span>, </span><span style="color:#d08770;">510</span><span>, </span><span style="color:#d08770;">530</span><span>, </span><span style="color:#d08770;">800</span><span>, </span><span style="color:#d08770;">900</span><span>, </span><span style="color:#d08770;">990</span><span>,
</span><span>    </span><span style="color:#d08770;">1000</span><span>, </span><span style="color:#d08770;">1011</span><span>, </span><span style="color:#d08770;">1209</span><span>, </span><span style="color:#d08770;">1244</span><span>, </span><span style="color:#d08770;">1291</span><span>, </span><span style="color:#d08770;">1299</span><span>, </span><span style="color:#d08770;">1333</span><span>, </span><span style="color:#d08770;">1354</span><span>, </span><span style="color:#d08770;">1359</span><span>, </span><span style="color:#d08770;">1389</span><span>, </span><span style="color:#d08770;">1390</span><span>,
</span><span>    </span><span style="color:#d08770;">1400</span><span>, </span><span style="color:#d08770;">1402</span><span>, </span><span style="color:#d08770;">1490</span><span>, </span><span style="color:#d08770;">1499</span><span>, </span><span style="color:#d08770;">1509</span><span>, </span><span style="color:#d08770;">1573</span><span>, </span><span style="color:#d08770;">1588</span><span>, </span><span style="color:#d08770;">1591</span><span>, </span><span style="color:#d08770;">1605</span><span>, </span><span style="color:#d08770;">1654</span><span>, </span><span style="color:#d08770;">1662</span><span>,
</span><span>}
</span><span style="color:#bf616a;">key </span><span>:= </span><span style="color:#d08770;">1509
</span><span style="color:#bf616a;">index </span><span>:= </span><span style="color:#bf616a;">linerSearch</span><span>(</span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#bf616a;">key</span><span>)
</span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">index </span><span>&lt; </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>) &amp;&amp; </span><span style="color:#bf616a;">s</span><span>[</span><span style="color:#bf616a;">index</span><span>] == </span><span style="color:#bf616a;">key </span><span>{
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">found </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> at index </span><span style="color:#d08770;">%d</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">key</span><span>, </span><span style="color:#bf616a;">index</span><span>)
</span><span>} </span><span style="color:#b48ead;">else </span><span>{
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> not found</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">key</span><span>)
</span><span>}
</span></code></pre>
<p>出力結果</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>step 1
</span><span>step 2
</span><span>step 3
</span><span>...
</span><span>step 27
</span><span>step 28
</span><span>step 29
</span><span>found 1509 at index 28
</span></code></pre>
<h3 id="er-fen-tan-suo-bainarisati">二分探索（バイナリサーチ）</h3>
<p>順序配列（ソート済みの配列）に対して探索を行う。データ数が多い場合に、線形探索に比べて計算量が非常に少なく済む探索方法。<br />
検索したい値とソート済み配列の中央値とを比較して、一致すれば探索終了、小さければ中央値よりも前の値を対象に再帰的に探索を続け、大きければ中央値よりも後ろの値を対象に再帰的に探索を続ける。</p>
<h4 id="er-fen-tan-suo-woxing-tutesutetupushu-tojie-guo-wochu-li-suruli">二分探索を行ってステップ数と結果を出力する例</h4>
<p>二分探索の関数を定義</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">func </span><span style="color:#8fa1b3;">binarySearch</span><span>(</span><span style="color:#bf616a;">s </span><span>[]</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#bf616a;">key </span><span style="color:#b48ead;">int</span><span>) </span><span style="color:#b48ead;">int </span><span>{
</span><span>    </span><span style="color:#bf616a;">low </span><span>:= </span><span style="color:#d08770;">0
</span><span>    </span><span style="color:#bf616a;">high </span><span>:= </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>) - </span><span style="color:#d08770;">1
</span><span>    </span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">low </span><span>&lt;= </span><span style="color:#bf616a;">high</span><span>; </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>        </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">step </span><span style="color:#d08770;">%d </span><span>&quot;, </span><span style="color:#bf616a;">i</span><span>+</span><span style="color:#d08770;">1</span><span>)
</span><span>        </span><span style="color:#bf616a;">middle </span><span>:= (</span><span style="color:#bf616a;">low </span><span>+ </span><span style="color:#bf616a;">high</span><span>) / </span><span style="color:#d08770;">2
</span><span>        </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">low: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">, mid: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">, high: </span><span style="color:#d08770;">%d </span><span>&quot;, </span><span style="color:#bf616a;">low</span><span>, </span><span style="color:#bf616a;">middle</span><span>, </span><span style="color:#bf616a;">high</span><span>)
</span><span>        </span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">key </span><span>== </span><span style="color:#bf616a;">s</span><span>[</span><span style="color:#bf616a;">middle</span><span>] {
</span><span>            </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Println</span><span>(&quot;</span><span style="color:#a3be8c;">一致</span><span>&quot;)
</span><span>            </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">middle
</span><span>        } </span><span style="color:#b48ead;">else if </span><span style="color:#bf616a;">key </span><span>&lt; </span><span style="color:#bf616a;">s</span><span>[</span><span style="color:#bf616a;">middle</span><span>] {
</span><span>            </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Println</span><span>(&quot;</span><span style="color:#a3be8c;">前半分を再探索</span><span>&quot;)
</span><span>            </span><span style="color:#bf616a;">high </span><span>= </span><span style="color:#bf616a;">middle </span><span>- </span><span style="color:#d08770;">1
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Println</span><span>(&quot;</span><span style="color:#a3be8c;">後半分を再探索</span><span>&quot;)
</span><span>            </span><span style="color:#bf616a;">low </span><span>= </span><span style="color:#bf616a;">middle </span><span>+ </span><span style="color:#d08770;">1
</span><span>        }
</span><span>    }
</span><span>    </span><span style="color:#b48ead;">return </span><span>-</span><span style="color:#d08770;">1
</span><span>}
</span></code></pre>
<p>呼び出し側</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#65737e;">// 比較のため線形探索のときと同じデータを使う
</span><span style="color:#bf616a;">s </span><span>:= []</span><span style="color:#b48ead;">int</span><span>{
</span><span>    </span><span style="color:#d08770;">50</span><span>, </span><span style="color:#d08770;">80</span><span>, </span><span style="color:#d08770;">150</span><span>, </span><span style="color:#d08770;">210</span><span>, </span><span style="color:#d08770;">250</span><span>, </span><span style="color:#d08770;">280</span><span>, </span><span style="color:#d08770;">330</span><span>, </span><span style="color:#d08770;">470</span><span>, </span><span style="color:#d08770;">510</span><span>, </span><span style="color:#d08770;">530</span><span>, </span><span style="color:#d08770;">800</span><span>, </span><span style="color:#d08770;">900</span><span>, </span><span style="color:#d08770;">990</span><span>,
</span><span>    </span><span style="color:#d08770;">1000</span><span>, </span><span style="color:#d08770;">1011</span><span>, </span><span style="color:#d08770;">1209</span><span>, </span><span style="color:#d08770;">1244</span><span>, </span><span style="color:#d08770;">1291</span><span>, </span><span style="color:#d08770;">1299</span><span>, </span><span style="color:#d08770;">1333</span><span>, </span><span style="color:#d08770;">1354</span><span>, </span><span style="color:#d08770;">1359</span><span>, </span><span style="color:#d08770;">1389</span><span>, </span><span style="color:#d08770;">1390</span><span>,
</span><span>    </span><span style="color:#d08770;">1400</span><span>, </span><span style="color:#d08770;">1402</span><span>, </span><span style="color:#d08770;">1490</span><span>, </span><span style="color:#d08770;">1499</span><span>, </span><span style="color:#d08770;">1509</span><span>, </span><span style="color:#d08770;">1573</span><span>, </span><span style="color:#d08770;">1588</span><span>, </span><span style="color:#d08770;">1591</span><span>, </span><span style="color:#d08770;">1605</span><span>, </span><span style="color:#d08770;">1654</span><span>, </span><span style="color:#d08770;">1662</span><span>,
</span><span>}
</span><span style="color:#bf616a;">key </span><span>:= </span><span style="color:#d08770;">1509
</span><span style="color:#bf616a;">index </span><span>:= </span><span style="color:#bf616a;">binarySearch</span><span>(</span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#bf616a;">key</span><span>)
</span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">index </span><span>&lt; </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>) &amp;&amp; </span><span style="color:#bf616a;">s</span><span>[</span><span style="color:#bf616a;">index</span><span>] == </span><span style="color:#bf616a;">key </span><span>{
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">found </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> at index </span><span style="color:#d08770;">%d</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">key</span><span>, </span><span style="color:#bf616a;">index</span><span>)
</span><span>} </span><span style="color:#b48ead;">else </span><span>{
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> not found</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">key</span><span>)
</span><span>}
</span></code></pre>
<p>出力結果</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>step 1 low: 0, mid: 17, high: 34 後半分を再探索
</span><span>step 2 low: 18, mid: 26, high: 34 後半分を再探索
</span><span>step 3 low: 27, mid: 30, high: 34 前半分を再探索
</span><span>step 4 low: 27, mid: 28, high: 29 一致
</span><span>found 1509 at index 28
</span></code></pre>
<p>最初のステップでは探索するデータの 1509 が中央値よりも後ろなので、次のステップでは後ろ半分を対象に再探索し、一致するまで続ける。<br />
このケースでは線形探索に比べてステップ数が少なく済んでいることがわかる。</p>
<p>こちらは Go の sort パッケージを使用した例</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#bf616a;">s </span><span>:= []</span><span style="color:#b48ead;">int</span><span>{
</span><span>    </span><span style="color:#d08770;">50</span><span>, </span><span style="color:#d08770;">80</span><span>, </span><span style="color:#d08770;">150</span><span>, </span><span style="color:#d08770;">210</span><span>, </span><span style="color:#d08770;">250</span><span>, </span><span style="color:#d08770;">280</span><span>, </span><span style="color:#d08770;">330</span><span>, </span><span style="color:#d08770;">470</span><span>, </span><span style="color:#d08770;">510</span><span>, </span><span style="color:#d08770;">530</span><span>, </span><span style="color:#d08770;">800</span><span>, </span><span style="color:#d08770;">900</span><span>, </span><span style="color:#d08770;">990</span><span>,
</span><span>    </span><span style="color:#d08770;">1000</span><span>, </span><span style="color:#d08770;">1011</span><span>, </span><span style="color:#d08770;">1209</span><span>, </span><span style="color:#d08770;">1244</span><span>, </span><span style="color:#d08770;">1291</span><span>, </span><span style="color:#d08770;">1299</span><span>, </span><span style="color:#d08770;">1333</span><span>, </span><span style="color:#d08770;">1354</span><span>, </span><span style="color:#d08770;">1359</span><span>, </span><span style="color:#d08770;">1389</span><span>, </span><span style="color:#d08770;">1390</span><span>,
</span><span>    </span><span style="color:#d08770;">1400</span><span>, </span><span style="color:#d08770;">1402</span><span>, </span><span style="color:#d08770;">1490</span><span>, </span><span style="color:#d08770;">1499</span><span>, </span><span style="color:#d08770;">1509</span><span>, </span><span style="color:#d08770;">1573</span><span>, </span><span style="color:#d08770;">1588</span><span>, </span><span style="color:#d08770;">1591</span><span>, </span><span style="color:#d08770;">1605</span><span>, </span><span style="color:#d08770;">1654</span><span>, </span><span style="color:#d08770;">1662</span><span>,
</span><span>}
</span><span style="color:#bf616a;">key </span><span>:= </span><span style="color:#d08770;">1509
</span><span style="color:#bf616a;">index </span><span>:= </span><span style="color:#bf616a;">sort</span><span>.</span><span style="color:#bf616a;">Search</span><span>(</span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>), </span><span style="color:#b48ead;">func</span><span>(</span><span style="color:#bf616a;">i </span><span style="color:#b48ead;">int</span><span>) </span><span style="color:#b48ead;">bool </span><span>{ </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">s</span><span>[</span><span style="color:#bf616a;">i</span><span>] &gt;= </span><span style="color:#bf616a;">key </span><span>})
</span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">index </span><span>&lt; </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>) &amp;&amp; </span><span style="color:#bf616a;">s</span><span>[</span><span style="color:#bf616a;">index</span><span>] == </span><span style="color:#bf616a;">key </span><span>{
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">found </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> at index </span><span style="color:#d08770;">%d</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">key</span><span>, </span><span style="color:#bf616a;">index</span><span>)
</span><span>} </span><span style="color:#b48ead;">else </span><span>{
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> not found</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">key</span><span>)
</span><span>}
</span></code></pre>
<p>出力結果</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>found 1509 at index 28
</span></code></pre>
<p>以下、参考資料より二分探索について抜粋</p>
<blockquote>
<p>データ数を 100,000,000個（1億個）とした時、線形探索では最悪の場合、1億回の比較、平均では5千万回の比較が必要である。<br />
しかし、二分探索なら約log<sub>2</sub>100,000,000回、つまり、約27回の比較で済む。</p>
</blockquote>
<hr />
<p>二分探索のほうが線形探索よりも優れているかという話ではなく、データの内容や、データ数に応じた探索方法を選べるようになればいいんじゃないかなと。<br />
データ数が少なければ線形探索でもパフォーマンスは十分出るし、順序配列（ソート済み配列）でなくても探索できるので、データ構造に応じて探索方法は自明になるみたいな感じでしょうか。<br />
データ数が 1億個ある場合は線形探索だと最悪の場合の計算量が 1億回になるから、ソートしてから二分探索したほうが速いんじゃないかなという当たりをつけられるようにしとくと、きっと良いです。</p>
<hr />
<h2 id="detagou-zao-2">データ構造2</h2>
<h3 id="sutatuku">スタック</h3>
<p>スタックは後入れ先出しのデータ構造で、FILO で処理を行います。</p>
<p>基本操作は次の2つ</p>
<ul>
<li>データを頂上に積む <code>Push</code></li>
<li>データを頂上から取り出す <code>Pop</code></li>
</ul>
<p>補助的に、頂上のデータを参照する <code>Peek</code> や、頂上のデータとそのひとつ下のデータを交換する <code>Swap</code> などがある。</p>
<h4 id="suraisuwoshi-tute-int-xing-nodetawosutatukusuruli">スライスを使って int 型のデータをスタックする例</h4>
<p>int 型のスタックを定義</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#65737e;">// 型で定義
</span><span style="color:#b48ead;">type </span><span>Stack []</span><span style="color:#b48ead;">int
</span><span>
</span><span style="color:#b48ead;">const </span><span style="color:#bf616a;">StackMax </span><span>= </span><span style="color:#d08770;">10
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">s </span><span>*</span><span style="color:#b48ead;">Stack</span><span>) </span><span style="color:#8fa1b3;">Size</span><span>() </span><span style="color:#b48ead;">int </span><span>{
</span><span>    </span><span style="color:#b48ead;">return </span><span style="color:#96b5b4;">len</span><span>(*</span><span style="color:#bf616a;">s</span><span>)
</span><span>}
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">s </span><span>*</span><span style="color:#b48ead;">Stack</span><span>) </span><span style="color:#8fa1b3;">Push</span><span>(</span><span style="color:#bf616a;">data </span><span style="color:#b48ead;">int</span><span>) </span><span style="color:#b48ead;">error </span><span>{
</span><span>    </span><span style="color:#65737e;">// サイズの上限を定義する時の例
</span><span>    </span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>() &gt;= </span><span style="color:#bf616a;">StackMax </span><span>{
</span><span>        </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">errors</span><span>.</span><span style="color:#bf616a;">New</span><span>(&quot;</span><span style="color:#a3be8c;">stack overflow</span><span>&quot;)
</span><span>    }
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">push: </span><span style="color:#d08770;">%d</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">data</span><span>)
</span><span>    *</span><span style="color:#bf616a;">s </span><span>= </span><span style="color:#96b5b4;">append</span><span>(*</span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#bf616a;">data</span><span>)
</span><span>    </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">nil
</span><span>}
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">s </span><span>*</span><span style="color:#b48ead;">Stack</span><span>) </span><span style="color:#8fa1b3;">Pop</span><span>() (</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#b48ead;">error</span><span>) {
</span><span>    </span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>() &lt; </span><span style="color:#d08770;">1 </span><span>{
</span><span>        </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">0</span><span>, </span><span style="color:#bf616a;">errors</span><span>.</span><span style="color:#bf616a;">New</span><span>(&quot;</span><span style="color:#a3be8c;">stack empty</span><span>&quot;)
</span><span>    }
</span><span>    </span><span style="color:#65737e;">// スタックの頂上の要素を取り出す
</span><span>    </span><span style="color:#bf616a;">top </span><span>:= (*</span><span style="color:#bf616a;">s</span><span>)[</span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>()-</span><span style="color:#d08770;">1</span><span>]
</span><span>    </span><span style="color:#65737e;">// 頂上の要素を除いてスタックに入れ直す
</span><span>    *</span><span style="color:#bf616a;">s </span><span>= (*</span><span style="color:#bf616a;">s</span><span>)[:</span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>()-</span><span style="color:#d08770;">1</span><span>]
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">pop: </span><span style="color:#d08770;">%d</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">top</span><span>)
</span><span>    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">top</span><span>, </span><span style="color:#d08770;">nil
</span><span>}
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">s </span><span>*</span><span style="color:#b48ead;">Stack</span><span>) </span><span style="color:#8fa1b3;">Peek</span><span>() (</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#b48ead;">error</span><span>) {
</span><span>    </span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>() &lt; </span><span style="color:#d08770;">1 </span><span>{
</span><span>        </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">0</span><span>, </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Errorf</span><span>(&quot;</span><span style="color:#a3be8c;">stack empty</span><span>&quot;)
</span><span>    }
</span><span>    </span><span style="color:#bf616a;">top </span><span>:= (*</span><span style="color:#bf616a;">s</span><span>)[</span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>()-</span><span style="color:#d08770;">1</span><span>]
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">peek: </span><span style="color:#d08770;">%d</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">top</span><span>)
</span><span>    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">top</span><span>, </span><span style="color:#d08770;">nil
</span><span>}
</span><span>
</span><span style="color:#b48ead;">func </span><span style="color:#8fa1b3;">NewStack</span><span>() *</span><span style="color:#b48ead;">Stack </span><span>{
</span><span>    </span><span style="color:#bf616a;">s </span><span>:= </span><span style="color:#96b5b4;">make</span><span>(</span><span style="color:#b48ead;">Stack</span><span>, </span><span style="color:#d08770;">0</span><span>)
</span><span>    </span><span style="color:#b48ead;">return </span><span>&amp;</span><span style="color:#bf616a;">s
</span><span>}
</span></code></pre>
<p>呼び出し側</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#bf616a;">s </span><span>:= </span><span style="color:#bf616a;">NewStack</span><span>()
</span><span>
</span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Push</span><span>(</span><span style="color:#d08770;">300</span><span>)
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Stack (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>(), *</span><span style="color:#bf616a;">s</span><span>)
</span><span>
</span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Push</span><span>(</span><span style="color:#d08770;">401</span><span>)
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Stack (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>(), *</span><span style="color:#bf616a;">s</span><span>)
</span><span>
</span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Pop</span><span>()
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Stack (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>(), *</span><span style="color:#bf616a;">s</span><span>)
</span><span>
</span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Peek</span><span>()
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Stack (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">s</span><span>.</span><span style="color:#bf616a;">Size</span><span>(), *</span><span style="color:#bf616a;">s</span><span>)
</span></code></pre>
<p>出力結果</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>push: 300
</span><span>Stack (1) [300]
</span><span>push: 401
</span><span>Stack (2) [300 401]
</span><span>pop: 401
</span><span>Stack (1) [300]
</span><span>peek: 300
</span><span>Stack (1) [300]
</span></code></pre>
<p>2回 Push したあと、1回 Pop したので、1回目に Push した値が Peek で確認できる。</p>
<h4 id="sutatukuwoshi-tutewen-zi-lie-wofan-zhuan-saseruli">スタックを使って文字列を反転させる例</h4>
<p>文字列のスタックを定義（簡略版）</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">type </span><span>StringStack []</span><span style="color:#b48ead;">string
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">s </span><span>*</span><span style="color:#b48ead;">StringStack</span><span>) </span><span style="color:#8fa1b3;">Push</span><span>(</span><span style="color:#bf616a;">v </span><span style="color:#b48ead;">string</span><span>) {
</span><span>	*</span><span style="color:#bf616a;">s </span><span>= </span><span style="color:#96b5b4;">append</span><span>(*</span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#bf616a;">v</span><span>)
</span><span>}
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">s </span><span>*</span><span style="color:#b48ead;">StringStack</span><span>) </span><span style="color:#8fa1b3;">Pop</span><span>() </span><span style="color:#b48ead;">string </span><span>{
</span><span>	</span><span style="color:#bf616a;">top </span><span>:= (*</span><span style="color:#bf616a;">s</span><span>)[</span><span style="color:#96b5b4;">len</span><span>(*</span><span style="color:#bf616a;">s</span><span>)-</span><span style="color:#d08770;">1</span><span>]
</span><span>	*</span><span style="color:#bf616a;">s </span><span>= (*</span><span style="color:#bf616a;">s</span><span>)[:</span><span style="color:#96b5b4;">len</span><span>(*</span><span style="color:#bf616a;">s</span><span>)-</span><span style="color:#d08770;">1</span><span>]
</span><span>	</span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">top
</span><span>}
</span></code></pre>
<p>呼び出し側（一文字ずつ Push するのも何なのでループで入れ込む）</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#65737e;">// 文字列をスライスに入れる
</span><span style="color:#bf616a;">str </span><span>:= &quot;</span><span style="color:#a3be8c;">なぜベストを尽くさないのか？</span><span>&quot;
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#d08770;">%s</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">str</span><span>)
</span><span style="color:#bf616a;">s </span><span>:= </span><span style="color:#96b5b4;">make</span><span>([]</span><span style="color:#b48ead;">string</span><span>, </span><span style="color:#d08770;">0</span><span>)
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">_</span><span>, </span><span style="color:#bf616a;">v </span><span>:= </span><span style="color:#b48ead;">range </span><span>[]</span><span style="color:#b48ead;">rune</span><span>(</span><span style="color:#bf616a;">str</span><span>) {
</span><span>    </span><span style="color:#bf616a;">s </span><span>= </span><span style="color:#96b5b4;">append</span><span>(</span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#bf616a;">string</span><span>(</span><span style="color:#bf616a;">v</span><span>))
</span><span>}
</span><span style="color:#65737e;">// スタックに格納
</span><span style="color:#bf616a;">stack </span><span>:= </span><span style="color:#96b5b4;">make</span><span>(</span><span style="color:#b48ead;">StringStack</span><span>, </span><span style="color:#d08770;">0</span><span>)
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i </span><span>:= </span><span style="color:#d08770;">0</span><span>; </span><span style="color:#bf616a;">i </span><span>&lt; </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>); </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>    </span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Push</span><span>(</span><span style="color:#bf616a;">s</span><span>[</span><span style="color:#bf616a;">i</span><span>])
</span><span>}
</span><span style="color:#65737e;">// スタックからデータを取り出すと文字列が反転する
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i</span><span>, </span><span style="color:#bf616a;">l </span><span>:= </span><span style="color:#d08770;">0</span><span>, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">stack</span><span>); </span><span style="color:#bf616a;">i </span><span>&lt; </span><span style="color:#bf616a;">l</span><span>; </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#d08770;">%s</span><span>&quot;, </span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span><span>}
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#96b5b4;">\n</span><span>&quot;)
</span></code></pre>
<p>出力結果</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>なぜベストを尽くさないのか？
</span><span>？かのいなさく尽をトスベぜな
</span></code></pre>
<p>スタックに入れなくても文字列の反転はできると思うんですが、入れたほうがイメージしやすい気がします。</p>
<h4 id="ni-porandoji-fa-denoji-suan-li">逆ポーランド記法での計算例</h4>
<p><code>80 * 20 - 5</code> の計算を行う</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#bf616a;">rpn </span><span>:= &quot;</span><span style="color:#a3be8c;">80 20 * 5 -</span><span>&quot;
</span><span style="color:#b48ead;">var </span><span style="color:#bf616a;">stack </span><span style="color:#b48ead;">StringStack
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">_</span><span>, </span><span style="color:#bf616a;">v </span><span>:= </span><span style="color:#b48ead;">range </span><span style="color:#bf616a;">strings</span><span>.</span><span style="color:#bf616a;">Split</span><span>(</span><span style="color:#bf616a;">rpn</span><span>, &quot; &quot;) {
</span><span>    </span><span style="color:#b48ead;">switch </span><span style="color:#bf616a;">v </span><span>{
</span><span>    </span><span style="color:#b48ead;">case </span><span>&quot;</span><span style="color:#a3be8c;">+</span><span>&quot;:
</span><span>        </span><span style="color:#bf616a;">r</span><span>, </span><span style="color:#bf616a;">_ </span><span>:= </span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Atoi</span><span>(</span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span><span>        </span><span style="color:#bf616a;">l</span><span>, </span><span style="color:#bf616a;">_ </span><span>:= </span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Atoi</span><span>(</span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span><span>        </span><span style="color:#bf616a;">result </span><span>:= </span><span style="color:#bf616a;">l </span><span>+ </span><span style="color:#bf616a;">r
</span><span>        </span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Push</span><span>(</span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Itoa</span><span>(</span><span style="color:#bf616a;">result</span><span>))
</span><span>    </span><span style="color:#b48ead;">case </span><span>&quot;</span><span style="color:#a3be8c;">-</span><span>&quot;:
</span><span>        </span><span style="color:#bf616a;">r</span><span>, </span><span style="color:#bf616a;">_ </span><span>:= </span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Atoi</span><span>(</span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span><span>        </span><span style="color:#bf616a;">l</span><span>, </span><span style="color:#bf616a;">_ </span><span>:= </span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Atoi</span><span>(</span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span><span>        </span><span style="color:#bf616a;">result </span><span>:= </span><span style="color:#bf616a;">l </span><span>- </span><span style="color:#bf616a;">r
</span><span>        </span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Push</span><span>(</span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Itoa</span><span>(</span><span style="color:#bf616a;">result</span><span>))
</span><span>    </span><span style="color:#b48ead;">case </span><span>&quot;</span><span style="color:#a3be8c;">*</span><span>&quot;:
</span><span>        </span><span style="color:#bf616a;">r</span><span>, </span><span style="color:#bf616a;">_ </span><span>:= </span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Atoi</span><span>(</span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span><span>        </span><span style="color:#bf616a;">l</span><span>, </span><span style="color:#bf616a;">_ </span><span>:= </span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Atoi</span><span>(</span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span><span>        </span><span style="color:#bf616a;">result </span><span>:= </span><span style="color:#bf616a;">l </span><span>* </span><span style="color:#bf616a;">r
</span><span>        </span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Push</span><span>(</span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Itoa</span><span>(</span><span style="color:#bf616a;">result</span><span>))
</span><span>    </span><span style="color:#b48ead;">case </span><span>&quot;</span><span style="color:#a3be8c;">/</span><span>&quot;:
</span><span>        </span><span style="color:#bf616a;">r</span><span>, </span><span style="color:#bf616a;">_ </span><span>:= </span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Atoi</span><span>(</span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span><span>        </span><span style="color:#bf616a;">l</span><span>, </span><span style="color:#bf616a;">_ </span><span>:= </span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Atoi</span><span>(</span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span><span>        </span><span style="color:#bf616a;">result </span><span>:= </span><span style="color:#bf616a;">l </span><span>/ </span><span style="color:#bf616a;">r
</span><span>        </span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Push</span><span>(</span><span style="color:#bf616a;">strconv</span><span>.</span><span style="color:#bf616a;">Itoa</span><span>(</span><span style="color:#bf616a;">result</span><span>))
</span><span>    </span><span style="color:#b48ead;">default</span><span>:
</span><span>        </span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Push</span><span>(</span><span style="color:#bf616a;">v</span><span>)
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Println</span><span>(</span><span style="color:#bf616a;">stack</span><span>.</span><span style="color:#bf616a;">Pop</span><span>())
</span></code></pre>
<p>出力結果</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>1595
</span></code></pre>
<h3 id="kiyu">キュー</h3>
<p>キュー（Queue）は待ち行列のデータ構造です。FIFO で処理を行います。</p>
<p>基本操作は次の2つ</p>
<ul>
<li>データを末尾に追加する <code>EnQueue</code></li>
<li>データを先頭から取り出す <code>DeQueue</code></li>
</ul>
<h4 id="suraisuwoshi-tuta-int-xing-nokiyunoli">スライスを使った int 型のキューの例</h4>
<p>定義</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">type </span><span>intQueue []</span><span style="color:#b48ead;">int
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">q </span><span>*</span><span style="color:#b48ead;">intQueue</span><span>) </span><span style="color:#8fa1b3;">EnQueue</span><span>(</span><span style="color:#bf616a;">v </span><span style="color:#b48ead;">int</span><span>) {
</span><span>    </span><span style="color:#65737e;">// Queue はデータを最後尾に追加する
</span><span>    *</span><span style="color:#bf616a;">q </span><span>= </span><span style="color:#96b5b4;">append</span><span>(*</span><span style="color:#bf616a;">q</span><span>, </span><span style="color:#bf616a;">v</span><span>)
</span><span>}
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">q </span><span>*</span><span style="color:#b48ead;">intQueue</span><span>) </span><span style="color:#8fa1b3;">DeQueue</span><span>() </span><span style="color:#b48ead;">int </span><span>{
</span><span>    </span><span style="color:#65737e;">// Queue はデータを最前列から取得する
</span><span>    </span><span style="color:#bf616a;">v </span><span>:= (*</span><span style="color:#bf616a;">q</span><span>)[</span><span style="color:#d08770;">0</span><span>]
</span><span>    </span><span style="color:#65737e;">// 二番目以降のデータを Queue に入れ直す
</span><span>    *</span><span style="color:#bf616a;">q </span><span>= (*</span><span style="color:#bf616a;">q</span><span>)[</span><span style="color:#d08770;">1</span><span>:]
</span><span>    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">v
</span><span>}
</span></code></pre>
<p>利用側</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#bf616a;">queue </span><span>:= </span><span style="color:#96b5b4;">make</span><span>(</span><span style="color:#b48ead;">intQueue</span><span>, </span><span style="color:#d08770;">0</span><span>)
</span><span style="color:#bf616a;">queue</span><span>.</span><span style="color:#bf616a;">EnQueue</span><span>(</span><span style="color:#d08770;">1</span><span>)
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Queue (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">queue</span><span>), </span><span style="color:#bf616a;">queue</span><span>)
</span><span style="color:#bf616a;">queue</span><span>.</span><span style="color:#bf616a;">EnQueue</span><span>(</span><span style="color:#d08770;">2</span><span>)
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Queue (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">queue</span><span>), </span><span style="color:#bf616a;">queue</span><span>)
</span><span style="color:#bf616a;">queue</span><span>.</span><span style="color:#bf616a;">DeQueue</span><span>()
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Queue (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">queue</span><span>), </span><span style="color:#bf616a;">queue</span><span>)
</span><span style="color:#bf616a;">queue</span><span>.</span><span style="color:#bf616a;">EnQueue</span><span>(</span><span style="color:#d08770;">3</span><span>)
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Queue (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">queue</span><span>), </span><span style="color:#bf616a;">queue</span><span>)
</span><span style="color:#bf616a;">queue</span><span>.</span><span style="color:#bf616a;">DeQueue</span><span>()
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Queue (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">queue</span><span>), </span><span style="color:#bf616a;">queue</span><span>)
</span><span style="color:#bf616a;">queue</span><span>.</span><span style="color:#bf616a;">DeQueue</span><span>()
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">Queue (</span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;">) </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">queue</span><span>), </span><span style="color:#bf616a;">queue</span><span>)
</span></code></pre>
<p>出力結果</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>Queue (1) [1]
</span><span>Queue (2) [1 2]
</span><span>Queue (1) [2]
</span><span>Queue (2) [2 3]
</span><span>Queue (1) [3]
</span><span>Queue (0) []
</span></code></pre>
<h4 id="suraisuwoshi-tutayou-xian-du-fu-kikiyunoli">スライスを使った優先度付きキューの例</h4>
<p>int 型の順序配列での優先度付きキューの定義</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#b48ead;">type </span><span>priorityQueue []</span><span style="color:#b48ead;">int
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">pq </span><span>*</span><span style="color:#b48ead;">priorityQueue</span><span>) </span><span style="color:#8fa1b3;">EnQueue</span><span>(</span><span style="color:#bf616a;">v </span><span style="color:#b48ead;">int</span><span>) {
</span><span>    </span><span style="color:#b48ead;">if </span><span style="color:#96b5b4;">len</span><span>(*</span><span style="color:#bf616a;">pq</span><span>) == </span><span style="color:#d08770;">0 </span><span>{
</span><span>        *</span><span style="color:#bf616a;">pq </span><span>= </span><span style="color:#96b5b4;">append</span><span>(*</span><span style="color:#bf616a;">pq</span><span>, </span><span style="color:#bf616a;">v</span><span>)
</span><span>    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>        </span><span style="color:#65737e;">// 順序配列にする
</span><span>        </span><span style="color:#bf616a;">i </span><span>:= </span><span style="color:#bf616a;">sort</span><span>.</span><span style="color:#bf616a;">Search</span><span>(</span><span style="color:#96b5b4;">len</span><span>(*</span><span style="color:#bf616a;">pq</span><span>), </span><span style="color:#b48ead;">func</span><span>(</span><span style="color:#bf616a;">i </span><span style="color:#b48ead;">int</span><span>) </span><span style="color:#b48ead;">bool </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>(*</span><span style="color:#bf616a;">pq</span><span>)[</span><span style="color:#bf616a;">i</span><span>] &gt;= </span><span style="color:#bf616a;">v
</span><span>        })
</span><span>        </span><span style="color:#65737e;">// 既存データは index の前後に入れる
</span><span>        </span><span style="color:#bf616a;">t </span><span>:= </span><span style="color:#96b5b4;">make</span><span>([]</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#96b5b4;">len</span><span>((*</span><span style="color:#bf616a;">pq</span><span>)[</span><span style="color:#d08770;">0</span><span>:</span><span style="color:#bf616a;">i</span><span>]))
</span><span>        </span><span style="color:#96b5b4;">copy</span><span>(</span><span style="color:#bf616a;">t</span><span>, (*</span><span style="color:#bf616a;">pq</span><span>)[</span><span style="color:#d08770;">0</span><span>:</span><span style="color:#bf616a;">i</span><span>])
</span><span>        </span><span style="color:#65737e;">// index の位置にデータを入れる
</span><span>        </span><span style="color:#bf616a;">t </span><span>= </span><span style="color:#96b5b4;">append</span><span>(</span><span style="color:#bf616a;">t</span><span>, </span><span style="color:#bf616a;">v</span><span>)
</span><span>        </span><span style="color:#bf616a;">t </span><span>= </span><span style="color:#96b5b4;">append</span><span>(</span><span style="color:#bf616a;">t</span><span>, (*</span><span style="color:#bf616a;">pq</span><span>)[</span><span style="color:#bf616a;">i</span><span>:]...)
</span><span>        *</span><span style="color:#bf616a;">pq </span><span>= </span><span style="color:#bf616a;">t
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">func </span><span>(</span><span style="color:#bf616a;">pq </span><span>*</span><span style="color:#b48ead;">priorityQueue</span><span>) </span><span style="color:#8fa1b3;">DeQueue</span><span>() </span><span style="color:#b48ead;">int </span><span>{
</span><span>    </span><span style="color:#bf616a;">v </span><span>:= (*</span><span style="color:#bf616a;">pq</span><span>)[</span><span style="color:#d08770;">0</span><span>]
</span><span>    *</span><span style="color:#bf616a;">pq </span><span>= (*</span><span style="color:#bf616a;">pq</span><span>)[</span><span style="color:#d08770;">1</span><span>:]
</span><span>    </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">v
</span><span>}
</span></code></pre>
<p>利用側</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#bf616a;">pq </span><span>:= </span><span style="color:#96b5b4;">make</span><span>(</span><span style="color:#b48ead;">priorityQueue</span><span>, </span><span style="color:#d08770;">0</span><span>)
</span><span style="color:#bf616a;">pq</span><span>.</span><span style="color:#bf616a;">EnQueue</span><span>(</span><span style="color:#d08770;">31</span><span>)
</span><span style="color:#bf616a;">pq</span><span>.</span><span style="color:#bf616a;">EnQueue</span><span>(</span><span style="color:#d08770;">2</span><span>)
</span><span style="color:#bf616a;">pq</span><span>.</span><span style="color:#bf616a;">EnQueue</span><span>(</span><span style="color:#d08770;">200</span><span>)
</span><span style="color:#bf616a;">pq</span><span>.</span><span style="color:#bf616a;">EnQueue</span><span>(</span><span style="color:#d08770;">0</span><span>)
</span><span style="color:#bf616a;">pq</span><span>.</span><span style="color:#bf616a;">EnQueue</span><span>(-</span><span style="color:#d08770;">1</span><span>)
</span><span style="color:#bf616a;">pq</span><span>.</span><span style="color:#bf616a;">EnQueue</span><span>(</span><span style="color:#d08770;">7</span><span>)
</span><span style="color:#b48ead;">for </span><span style="color:#bf616a;">i</span><span>, </span><span style="color:#bf616a;">max </span><span>:= </span><span style="color:#d08770;">0</span><span>, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">pq</span><span>); </span><span style="color:#bf616a;">i </span><span>&lt; </span><span style="color:#bf616a;">max</span><span>; </span><span style="color:#bf616a;">i</span><span>++ {
</span><span>    </span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#d08770;">%d </span><span>&quot;, </span><span style="color:#bf616a;">pq</span><span>.</span><span style="color:#bf616a;">DeQueue</span><span>())
</span><span>}
</span></code></pre>
<p>出力結果</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>-1 0 2 7 31 200 
</span></code></pre>
<p>EnQueue のタイミングで順序配列にしてデータを保持する構造を採用しました。<br />
順序配列ではなく、配列を使う場合は DeQueue のタイミングで優先度を調べることになります。<br />
一般に優先度付きキューはデータ構造にヒープを使うらしい（まだよくわかってない）</p>
<h3 id="suraisubu-zu">スライス補足</h3>
<p>len() や cap() をもとにスライスの挙動</p>
<pre data-lang="go" style="background-color:#2b303b;color:#c0c5ce;" class="language-go "><code class="language-go" data-lang="go"><span style="color:#65737e;">// int 型で要素数 1、容量 2のスライスを定義
</span><span style="color:#bf616a;">s </span><span>:= </span><span style="color:#96b5b4;">make</span><span>([]</span><span style="color:#b48ead;">int</span><span>, </span><span style="color:#d08770;">1</span><span>, </span><span style="color:#d08770;">2</span><span>)
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">p: </span><span style="color:#d08770;">%p</span><span style="color:#a3be8c;"> len: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> capa: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> values: </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>), </span><span style="color:#96b5b4;">cap</span><span>(</span><span style="color:#bf616a;">s</span><span>), </span><span style="color:#bf616a;">s</span><span>)
</span><span style="color:#65737e;">// 要素数が定義の範囲内であれば添字でアクセス可能
</span><span style="color:#bf616a;">s</span><span>[</span><span style="color:#d08770;">0</span><span>] = </span><span style="color:#d08770;">1
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">p: </span><span style="color:#d08770;">%p</span><span style="color:#a3be8c;"> len: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> capa: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> values: </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>), </span><span style="color:#96b5b4;">cap</span><span>(</span><span style="color:#bf616a;">s</span><span>), </span><span style="color:#bf616a;">s</span><span>)
</span><span style="color:#65737e;">// 要素数が定義の範囲を超える場合は append でデータを追加する
</span><span style="color:#bf616a;">s </span><span>= </span><span style="color:#96b5b4;">append</span><span>(</span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#d08770;">2</span><span>)
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">p: </span><span style="color:#d08770;">%p</span><span style="color:#a3be8c;"> len: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> capa: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> values: </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>), </span><span style="color:#96b5b4;">cap</span><span>(</span><span style="color:#bf616a;">s</span><span>), </span><span style="color:#bf616a;">s</span><span>)
</span><span style="color:#65737e;">// 定義時の容量を超える際に新たなメモリ領域を確保するのでポインタの値が変わっている事がわかる
</span><span style="color:#bf616a;">s </span><span>= </span><span style="color:#96b5b4;">append</span><span>(</span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#d08770;">3</span><span>)
</span><span style="color:#bf616a;">fmt</span><span>.</span><span style="color:#bf616a;">Printf</span><span>(&quot;</span><span style="color:#a3be8c;">p: </span><span style="color:#d08770;">%p</span><span style="color:#a3be8c;"> len: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> capa: </span><span style="color:#d08770;">%d</span><span style="color:#a3be8c;"> values: </span><span style="color:#d08770;">%v</span><span style="color:#96b5b4;">\n</span><span>&quot;, </span><span style="color:#bf616a;">s</span><span>, </span><span style="color:#96b5b4;">len</span><span>(</span><span style="color:#bf616a;">s</span><span>), </span><span style="color:#96b5b4;">cap</span><span>(</span><span style="color:#bf616a;">s</span><span>), </span><span style="color:#bf616a;">s</span><span>)
</span></code></pre>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>p: 0xc000016070 len: 1 capa: 2 values: [0]
</span><span>p: 0xc000016070 len: 1 capa: 2 values: [1]
</span><span>p: 0xc000016070 len: 2 capa: 2 values: [1 2]
</span><span>p: 0xc0000140e0 len: 3 capa: 4 values: [1 2 3]
</span></code></pre>
<hr />
<ol>
<li>『データ構造とプログラミング』鈴木一史 2018年3月</li>
</ol>

      
  </article>
</section>



       

      <footer>
        
          
          
<figure class="mini_logo ">
    <a href="https:&#x2F;&#x2F;niikunihiro.github.io" style="background-image: url(/img/profile.jpg)"></a>
</figure>
<h5>
    <a href="https:&#x2F;&#x2F;niikunihiro.github.io">Niiko thought at that time</a>
</h5>

          
<ul class="social_list foot_list">
    



<li class="button extra_small font_faint">
    <a href="https:&#x2F;&#x2F;github.com&#x2F;niikunihiro" target="_blank">niikunihiro</a>
    <i class="fab fa-github"></i>
</li>





</ul>

          
<select id="theme_selector" size=1>
    <option value="default" selected>default</option>
    
    <option value="dark">dark</option>
    
</select>

        
      </footer>
    </body>
</html>
